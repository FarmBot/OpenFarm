<% content_for(:start_js) do %>
<%= javascript_include_tag '//maps.google.com/maps/api/js?sensor=false' %>
<% end %>

<% content_for(:banner) do %>
  <div class="bar-header">
    <h1><%= t('.welcome', user: current_user.display_name) %></h1>
  </div>
<% end %>

<div class="finish"
  ng-controller="finishCtrl">
  <div class="row title">
    <div class="large-12 columns">
      <h2><%= t('.openfarm_works_best_when') %></h2>
    </div>
  </div>
<%= form_for :user, controller: 'users', action: 'finish', method: 'put' do |f| %>
  <div class="row">
    <div class="large-4 columns">
      <label for="location">
        <%= t('.where_do_you_farm') %>
      </label>
      <small><%= t('.city_or_zip') %></small>
    </div>
    <div class="large-8 columns">
      <span location
            ng-model="location"
            loading-text="<%= t('application.loading_locations') %>">
      </span>
    </div>
  </div>
  <%# TODO: How do we store these? %>
  <!-- <div class="row">
    <div class="large- columns">
      <label for="location">
        <%= t('.describe_your_growing_practices') %>
      </label>
      <small><%= t('.check_all_that_apply') %></small>
    </div>
    <div class="large-8 columns">
      <input id="organic" type="checkbox" name="practices" checked><label for="organic" >Organic</label>
      <input id="permaculture" type="checkbox" name="practices"><label for="permaculture">Permaculture</label>
      <input id="conventional" type="checkbox" name="practices"><label for="conventional">Conventional</label>
      <span class="dropdown">
        <input id="hydroponic" type="checkbox" name="practices"><label for="hydroponic">Hydroponic</label>
      </span>
    </div>
  </div> -->
  <div class="row">
    <div class="large-4 columns">
      <label for="location">
        <%= t('.units_preference') %>
      </label>
    </div>
    <div class="large-8 columns">
      <input type="radio" id="imperial" value="imperial" name="units"><label for="imperial">Imperial</label>
      <input id="metric" type="radio" value="metric" name="units" checked><label for="metric">Metric</label>
    </div>
  </div>
  <div class="row">
    <div class="large-4 columns">
      <label for="location">
        <%= t('.email_sign_up') %>
      </label>
    </div>
    <div class="large-8 columns">
      <input type="radio" id="yes" value="true" name="newsletter"><label for="yes">Yes</label>
      <input id="no" type="radio" value="false" name="newsletter" checked><label for="no">No</label>
    </div>
  </div>

  <div class="row submit">
    <div class="large-12 columns">
    <span class="right">
      <a class="button small secondary"
        name="back"
        href="<%= root_path %>">
        <%= t('application.skip') %>
      </a>

      <input class="button small"
        data-disable-with="Saving..."
        name="commit"
        type="submit"
        value="<%= t('.add_garden') %>"/>
      </span>
    </div>
  </div>
<% end %>
</div>

<% content_for(:end_js) do %>
  <%= javascript_include_tag 'users/finish' %>
<% end %>